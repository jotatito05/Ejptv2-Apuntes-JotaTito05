# ğŸš© Post-Exploitation: Ya estoy dentro, Â¿y ahora quÃ©?

## ğŸ‘‹ IntroducciÃ³n

Felicidades, tienes una shell. ğŸ‰
Â¿Has terminado? **NO.**

Muchos novatos se quedan aquÃ­. "Ya soy admin, fin".
Un profesional sabe que el acceso inicial es solo el principio. Ahora toca:
1.  **Asegurar la entrada** (Persistencia).
2.  **Robar todo lo que brille** (Looting).
3.  **Saltar a la siguiente mÃ¡quina** (Pivoting).

---

## ğŸ•·ï¸ Pivoting: El "Filtro" del eJPTv2

EscÃºchame bien: **Si no sabes pivotar, suspenderÃ¡s.**
El examen tiene redes a las que NO puedes llegar directamente. Tienes que hackear la MÃ¡quina A, y usarla de puente para atacar a la MÃ¡quina B.

### La TÃ©cnica: Autoroute + Port Forwarding
Usando Metasploit (Meterpreter), esto es magia negra:

1.  **Autoroute:** Le dices a Metasploit: *"Oye, esta mÃ¡quina hackeada conoce la red 10.10.10.0. Ãšsala para enrutar mis ataques"*.
    ```bash
    run post/multi/manage/autoroute
    ```
2.  **Port Forwarding:** Traes un puerto de la vÃ­ctima lejana a tu mÃ¡quina local.
    *"Quiero que el puerto 80 de la mÃ¡quina oculta (10.10.10.5) aparezca en mi localhost:8080"*.
    ```bash
    portfwd add -l 8080 -p 80 -r 10.10.10.5
    ```
    Ahora, si abres tu navegador en `localhost:8080`, Â¡estÃ¡s viendo la web de la mÃ¡quina oculta!

---

## ğŸ’ Looting: Saqueo Digital

Busca lo que vale dinero (o puntos):
*   **Archivos de configuraciÃ³n:** `web.config`, `wp-config.php`. A menudo tienen contraseÃ±as de base de datos.
*   **Hashes:** Dumpea la SAM (Windows) o `/etc/shadow` (Linux).
*   **Historial:** `bash_history`. A veces los admins escriben contraseÃ±as en la terminal.

---

## ğŸ§Ÿ Persistencia: Regresando de la Tumba

No quieres tener que volver a lanzar el exploit (que a veces crashea el servidor) cada vez que quieras entrar.
Deja una llave bajo el felpudo:
*   **Crea un usuario:** `net user hacker Password123! /add` y `net localgroup Administrators hacker /add`.
*   **Mete un Backdoor:** Deja un ejecutable malicioso en la carpeta de Inicio.

---

## ğŸ“ Mis Notas Personales

```markdown
# Comandos de Pivoting
- Ver rutas actuales en meterpreter: run autoroute -p
- Escanear a travÃ©s del tÃºnel: usar mÃ³dulo auxiliary/scanner/portscan/tcp
```

---
[â¬…ï¸ Volver a Host & Network Pentesting](../README.md) | [â¡ï¸ Siguiente: Web Application Pentesting](../../03-web-app-pentesting/README.md)
